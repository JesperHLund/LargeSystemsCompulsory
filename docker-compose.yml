services:
  addition-service:
    build:
      context: .
      dockerfile: additionservice/Dockerfile
    depends_on: 
      - gateway-service
      - database-service
    deploy:
      replicas: 3
  
  subtraction-service:
    build:
      context: .
      dockerfile: Subtractionservice/Dockerfile
    depends_on: 
      - gateway-service
      - database-service
    deploy:
      replicas: 3
  
  gateway-service:
    build:
      context: .
      dockerfile: gatewayservice/Dockerfile
    depends_on:
      - database-service
    deploy:
      replicas: 3

  database-service:
    build: 
      context: .
      dockerfile: databaseservice/Dockerfile
    deploy:
      replicas: 3
  
  client-service:
    build:
      context: .
      dockerfile: Client/Dockerfile
    depends_on:
      - gateway-service
    deploy:
      replicas: 3